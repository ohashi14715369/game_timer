(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,n){e.exports=n(278)},132:function(e,t,n){},137:function(e,t,n){},278:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"createTimerOpen",function(){return y}),n.d(a,"createTimerClose",function(){return T}),n.d(a,"createTimerChange",function(){return k}),n.d(a,"createTimerRegister",function(){return C}),n.d(a,"timerDelete",function(){return R}),n.d(a,"loadGameTimer",function(){return x});var r=n(0),i=n.n(r),o=n(17),c=n.n(o),s=(n(132),n(36)),l=n(37),u=n(41),m=n(38),d=n(40),h=n(39),f=n(20),v=n(22),p=n.n(v),b=(n(137),"CREATE_TIMER.OPEN"),g="CREATE_TIMER.CHANGE",E="CREATE_TIMER.CLOSE",w="CREATE_TIMER.REGISTER",O="GAME_TIMER.DELETE",j=new(n(114).a)("TIMER"),y=function(){return{type:b}},T=function(){return{type:E}},k=function(e,t){return{type:g,key:e,value:t}},C=function(){return function(e,t){var n=t().createtimer,a=n.hour,r=n.minute,i=n.second,o=new Date;j.put({_id:o,hour:a,minute:r,second:i}).then(function(t){e({type:w,id:o,hour:a,minute:r,second:i}),e(T())})}},R=function(e){return function(t,n){j.get(e).then(function(e){return j.remove(e)}).then(t({type:O,id:e}))}},x=function(){return function(e){j.allDocs({include_docs:!0}).then(function(t){console.log(t),p.a.forEach(t.rows,function(t){e({type:w,id:t.doc._id,hour:t.doc.hour,minute:t.doc.minute,second:t.doc.second})})})}},A=n(43),I=n(118),M=n.n(I),N=n(119),S=n.n(N),_=n(44),B=n.n(_),G=n(27),W=n.n(G),L=n(120),D=n.n(L),P=n(122),U=n.n(P),J=n(121),F=n.n(J),H=n(124),$=n.n(H),q=n(123),z=n.n(q),K=n(125),Q=n.n(K),V=n(115),X=n(116),Y=n.n(X),Z=n(117),ee=n.n(Z),te=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,a=e.step,r=Object(V.a)(e,["min","max","step"]);return i.a.createElement(Y.a,Object.assign({select:!0,value:this.props.value},r),p.a.map(p.a.range(t,n,a),function(e){return i.a.createElement(ee.a,{key:e,value:e},("00"+e).slice(-2))}))}}]),t}(r.Component);te.defaultProps={step:1};var ne=te,ae=n(15),re=n(24),ie=n.n(re),oe=n(46),ce=n.n(oe),se=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(u.a)(this,Object(m.a)(t).call(this));var a=ie()(),r=ie()(a).add(e.timer.hour,"hours").add(e.timer.minute,"minutes").add(e.timer.second,"seconds");return n.state={start:null,end:null,text:n.getText(a,r),timer:null,millis:1e3*r.diff(a,"seconds"),passed:0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"start",value:function(){var e=this,t=this.state,n=t.millis,a=t.passed,r=ie()(),i=ie()().add(n-a,"milliseconds");this.state.timer&&clearInterval(this.state.timer),this.setState(function(t){return Object(ae.a)({},t,{start:r,end:i,timer:setInterval(function(){return e.update()},16)})})}},{key:"stop",value:function(){var e=this;this.state.timer&&(clearInterval(this.state.timer),this.setState(function(t){return Object(ae.a)({},t,{start:null,end:null,timer:null,passed:e.state.passed+ie()().diff(e.state.start,"milliseconds")})}))}},{key:"reset",value:function(){var e=this,t=this.state.millis,n=ie()(),a=ie()().add(t,"milliseconds");this.setState(function(t){return Object(ae.a)({},t,{start:n,end:a,text:e.getText(n,a),passed:0})})}},{key:"update",value:function(){var e=this;this.setState(function(t){return Object(ae.a)({},t,{text:e.getText(ie()(),t.end)})})}},{key:"getText",value:function(e,t){var n=t.diff(e,"milliseconds"),a=n%1e3,r=(n=Math.floor(n/1e3))%60,i=(n=Math.floor(n/60))%60;return("00"+(n=Math.floor(n/60))).slice(-2)+":"+("00"+i).slice(-2)+":"+("00"+r).slice(-2)+"."+("000"+a).slice(-3)}},{key:"delete",value:function(){this.state.timer&&clearInterval(this.state.timer),this.props.actions.timerDelete(this.props.timer.id)}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.text,r=n.timer;return i.a.createElement("div",null,i.a.createElement(B.a,{variant:"body1",gutterBottom:!0},a),i.a.createElement(W.a,{color:"secondary",className:t.button,"aria-label":"start",onClick:function(){return e.start()},disabled:null!=r},i.a.createElement(ce.a,null,"play_arrow")),i.a.createElement(W.a,{color:"secondary",className:t.button,"aria-label":"stop",onClick:function(){return e.stop()},disabled:null==r},i.a.createElement(ce.a,null,"pause")),i.a.createElement(W.a,{color:"secondary",className:t.button,"aria-label":"reset",onClick:function(){return e.reset()}},i.a.createElement(ce.a,null,"replay")),i.a.createElement(W.a,{color:"secondary",className:t.button,"aria-label":"delete",onClick:function(){return e.delete()}},i.a.createElement(ce.a,null,"delete")))}}]),t}(r.Component);var le=Object(A.withStyles)(function(e){return{button:{margin:e.spacing.unit}}})(Object(h.b)(null,function(e){return{actions:Object(f.b)(a,e)}})(se)),ue=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(u.a)(this,Object(m.a)(t).call(this,e)),e.actions.loadGameTimer(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gametimer,n=e.createtimer,a=e.actions,r=e.classes;return i.a.createElement("div",{className:r.root},i.a.createElement(M.a,{position:"static"},i.a.createElement(S.a,{variant:"dense"},i.a.createElement(W.a,{className:r.menuButton,color:"inherit","aria-label":"Menu"},i.a.createElement(D.a,null)),i.a.createElement(B.a,{variant:"h6",color:"inherit"},"Game Timer"))),p.a.map(t.timers,function(e){return i.a.createElement(le,{key:e.id,timer:e})}),i.a.createElement(F.a,{color:"secondary","aria-label":"Add",className:r.addButton,onClick:function(){return a.createTimerOpen()}},i.a.createElement(U.a,null)),i.a.createElement(z.a,{onClose:function(){return a.createTimerClose()},"aria-labelledby":"simple-dialog-title",open:n.show},i.a.createElement($.a,{id:"simple-dialog-title"},"Create Timer"),i.a.createElement("div",null,i.a.createElement(ne,{min:"0",max:"99",label:"hour",value:n.hour,onChange:function(e){return a.createTimerChange("hour",e.target.value)}}),i.a.createElement(ne,{min:"0",max:"59",label:"minute",value:n.minute,onChange:function(e){return a.createTimerChange("minute",e.target.value)}}),i.a.createElement(ne,{min:"0",max:"59",label:"second",value:n.second,onChange:function(e){return a.createTimerChange("second",e.target.value)}}),i.a.createElement(Q.a,{onClick:function(){return a.createTimerRegister()}},"Register"))))}}]),t}(r.Component);var me=Object(A.withStyles)(function(e){return{root:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10},addButton:{position:"absolute",bottom:2*e.spacing.unit,right:2*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},menu:{width:200}}},{withTheme:!0})(Object(h.b)(function(e,t){return{gametimer:e.gametimer,createtimer:e.createtimer}},function(e){return{actions:Object(f.b)(a,e)}})(ue)),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var fe=n(126),ve=n(56),pe={show:!1,hour:0,minute:0,second:0},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(ae.a)({},e,{show:!0,hour:0,minute:0,second:0});case E:return Object(ae.a)({},e,{show:!1});case g:return Object(ae.a)({},e,Object(ve.a)({},t.key,t.value));case w:return Object(ae.a)({},e,{show:!1});default:return Object(ae.a)({},e)}},ge={timers:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(ae.a)({},e,{timers:p.a.concat(e.timers,{id:t.id,hour:t.hour,minute:t.minute,second:t.second})});case O:return Object(ae.a)({},e,{timers:p.a.chain(e.timers).reject(function(e){return e.id===t.id}).value()});default:return Object(ae.a)({},e)}},we=Object(f.c)({createtimer:be,gametimer:Ee}),Oe=Object(f.d)(we,Object(f.a)(fe.a));c.a.render(i.a.createElement(h.a,{store:Oe},i.a.createElement(me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/game_timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/game_timer","/service-worker.js");de?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):he(t,e)})}}()}},[[127,1,2]]]);
//# sourceMappingURL=main.fa0da05c.chunk.js.map